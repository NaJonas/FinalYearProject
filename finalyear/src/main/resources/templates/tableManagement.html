<!DOCTYPE html>
<html lang="en" xlmns:th="http://www.thymeleaf.org" xmlns:xlmns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Table management</title>
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" type="text/css"  href="../static/css/bootstrap.min.css" />
    <script th:src="@{/webjars/jquery/3.5.1/jquery.min.js}"></script>
    <script th:src="@{/webjars/popper.js/1.16.0/umd/popper.min.js}"></script>
    <script th:src="@{/webjars/bootstrap/4.6.0-1/js/bootstrap.min.js}"></script>
</head>
<body>
<nav class="navbar navbar-expand-md navbar-dark bg-dark">
    <a class="navbar-brand">Reservation system</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-end" id="navbar">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
                <a class="nav-link" th:href="@{/restaurantProfile}">Restaurant profile</a>
            </li>
        </ul>
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a class="nav-link" th:href="@{/}">Logout</a>
            </li>
        </ul>
    </div>
</nav>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script>
    $(function() {
        var dragposition;
        $("#draggable").draggable({
            containment : $('#tableArea'),
            // Get position on stop
            stop: function (event, ui) {
                dragposition = ui.position;
                console.log(dragposition);

            }
        });
    });

</script>
<style>
    #draggable { width: 150px; height: 150px; padding: 0.5em; }
    @media screen and (max-width: 600px) {
        #draggable { width: 75px; height: 75px; padding: 0.5em; }

    }
</style>
<style th:inline="text">
    .jumbotron {
        min-height: 600px;
        max-height: 600px;
    }
</style>

<script>
    $(document).ready(function(){
        $("#addTable").click(function(){
            var div = $("<div id=\"draggable\" class=\"ui-widget-content bg-dark text-white\">\n" +
                "        <p>Drag me around</p>\n" +
                "        </div>");
            $("#tableArea").append(div.draggable({
                containment : $('#tableArea'),
                // Get position on stop
                stop: function (event, ui) {
                    var dragposition = ui.position;
                    $.ajax({
                        type:"post",
                        contentType: "application/json",
                        data: dragposition,
                        url: tableManagement,
                        asynch: false,
                        success: function() {
                            alert("success");
                        }
                    })
                    console.log(dragposition);
                }
            }));

        });
    });
</script>
<div class="container py-5">
    <button id="addTable" class="btn btn-outline-dark my-2  m-0">Add table</button>


    <div id="tableArea" class="jumbotron bg-secondary">

        <div id="draggable" class="ui-widget-content bg-dark text-white">
        <p>Drag me around</p>
        </div>
    </div>
    <form method="post">
    <input class="btn btn-primary btn-customized w-25" type="submit" value="Save page"/>
    </form>
</div>



</body>
</html>